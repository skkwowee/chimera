# CS2 Demo Viewer — Extraction Progress

## Goal
Extract the demo viewer (chimera/site/) into a standalone repo (cs2-demo-viewer)
that can be shared independently. Data-agnostic: users bring their own demo data.

## Source
- Viewer lives at: ~/chimera/site/
- Tech: Next.js 16, React 19, Tailwind v4
- Components: MapCanvas.tsx (radar + vision cones + kill lines), DemoSelector.tsx,
  TimelineSlider.tsx, viewer/page.tsx
- Data consumed: public/viewer-data/{demo}/round_XX.json, public/maps/*.png
- Data is gitignored in chimera (generated by scripts/export_viewer_data.py)

## Pipeline Status
- [ ] F01 — Extract site/ into standalone repo (git subtree split)
- [ ] F02 — Rename and rebrand (package.json, metadata)
- [ ] F03 — Add sample data and data format docs
- [ ] F04 — Write README for standalone repo
- [ ] F05 — Clean up chimera repo reference

## Key decisions
- Using git subtree split to preserve commit history
- Data-agnostic: no demo data shipped, just format docs + tiny sample
- Export script (export_viewer_data.py) stays in chimera, not the viewer repo
- parse_demos.py also stays in chimera

## Data format (for docs in F03)
### public/viewer-data/index.json
Array of: { stem, map_name, rounds }

### public/viewer-data/{demo}/meta.json
{ stem, map_name, header, rounds, kills, damages, shots, bomb }

### public/viewer-data/{demo}/round_XX.json
{ round_num, start_tick, end_tick, freeze_end, winner, reason,
  bomb_plant_tick, bomb_site, frames: [{ tick, players: [{ name, side,
  x, y, z, yaw, hp, alive }] }] }

### public/maps/
- {map_name}.png, {map_name}_lower.png — radar images
- map-data.json — coordinate transform metadata (pos_x, pos_y, scale, etc.)
